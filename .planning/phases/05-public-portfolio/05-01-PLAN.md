---
phase: 05-public-portfolio
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/page.tsx
  - src/app/components/portfolio/section-nav.tsx
  - src/app/components/portfolio/section-wrapper.tsx
  - src/lib/data/portfolio.ts
autonomous: true

must_haves:
  truths:
    - "Page displays all five sections in order: Hero, About, Skills, Projects, Contact"
    - "Side navigation dots appear on desktop (hidden on mobile)"
    - "Clicking a navigation dot scrolls to that section"
    - "Current section is highlighted in navigation"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Main portfolio page with all sections"
      contains: "revalidate"
    - path: "src/app/components/portfolio/section-nav.tsx"
      provides: "Side navigation dots component"
      exports: ["SectionNav"]
    - path: "src/app/components/portfolio/section-wrapper.tsx"
      provides: "Reusable section wrapper with ID"
      exports: ["SectionWrapper"]
    - path: "src/lib/data/portfolio.ts"
      provides: "Public data fetching functions"
      exports: ["getPortfolioData"]
  key_links:
    - from: "src/app/page.tsx"
      to: "src/lib/data/portfolio.ts"
      via: "async data fetch"
      pattern: "getPortfolioData"
    - from: "src/app/components/portfolio/section-nav.tsx"
      to: "section IDs"
      via: "anchor links"
      pattern: "href.*#(hero|about|skills|projects|contact)"
---

<objective>
Create the portfolio page layout foundation with all section scaffolds and side navigation dots.

Purpose: Establishes the single-page structure that all other plans build upon. Creates the data fetching layer for public content and the navigation system for desktop users.

Output: Working portfolio page with placeholder sections, functional side navigation, and ISR caching configured.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-public-portfolio/05-CONTEXT.md

@src/app/page.tsx
@src/app/layout.tsx
@src/app/globals.css
@src/lib/prisma.ts
@src/lib/actions/bio.ts
@src/lib/actions/skills.ts
@src/lib/actions/projects.ts
@src/lib/actions/contact.ts
@src/lib/actions/social-links.ts
@src/lib/actions/resume.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create public data fetching layer</name>
  <files>src/lib/data/portfolio.ts</files>
  <action>
Create a new data module for public portfolio data fetching (NOT server actions - these are direct Prisma queries for server components).

The module should export:
1. `getPortfolioData()` - fetches all portfolio data in one call for the main page
2. Individual fetch functions: `getPublicBio()`, `getPublicSkills()`, `getPublicProjects()`, `getPublicContact()`, `getPublicSocialLinks()`, `getPublicResume()`

Key implementation details:
- NO authentication checks (public data)
- Filter only visible content (visible: true for skills, projects)
- For projects: order by `order` ASC, include all display fields but exclude admin-only fields
- For skills: use GroupedSkills pattern (group by category, ordered by order field)
- For resume: get active resume only
- For contact: singleton fetch
- Use try-catch with null/empty fallbacks (page should render even if DB errors)

Type the return values properly - import types from @/generated/prisma/client.
  </action>
  <verify>TypeScript compiles without errors: `npx tsc --noEmit`</verify>
  <done>Public data fetching module exists with all portfolio fetch functions</done>
</task>

<task type="auto">
  <name>Task 2: Create section wrapper and navigation components</name>
  <files>src/app/components/portfolio/section-wrapper.tsx, src/app/components/portfolio/section-nav.tsx</files>
  <action>
Create the component directory and two components:

**SectionWrapper** (`section-wrapper.tsx`):
- Props: `id: string`, `children: ReactNode`, `className?: string`
- Renders a `<section>` element with the given ID for anchor linking
- Applies consistent vertical padding (py-20 md:py-32 for moderate spacing between sections)
- Supports additional className for section-specific styling
- Uses CSS variables for theming (--color-background, --color-text)

**SectionNav** (`section-nav.tsx`):
- Client component ("use client" directive) - needs scroll position tracking
- Fixed position on right side of viewport (right-8, top-1/2, -translate-y-1/2)
- Hidden on mobile (hidden lg:flex), shows as vertical flex column on desktop
- Renders 5 navigation dots for: hero, about, skills, projects, contact
- Each dot: circular button (w-3 h-3 rounded-full), clickable anchor link to section
- Active state detection: Use IntersectionObserver to track which section is in view
- Active dot uses --color-primary, inactive dots use --color-text with opacity
- Smooth scroll behavior when clicked
- Include subtle hover effect (scale up slightly)
- Add aria-label for accessibility ("Navigate to {section} section")
  </action>
  <verify>Components import without errors in a test file</verify>
  <done>SectionWrapper and SectionNav components exist with proper TypeScript types</done>
</task>

<task type="auto">
  <name>Task 3: Build main portfolio page with section scaffolds</name>
  <files>src/app/page.tsx</files>
  <action>
Replace the placeholder page with the full portfolio page structure:

1. Make it an async Server Component that fetches data with `getPortfolioData()`
2. Configure ISR with `export const revalidate = 60` (revalidate every 60 seconds)
3. Add metadata export for SEO (title from bio name, description from bio headline)

Page structure:
```tsx
<main className="relative">
  <SectionNav />

  <SectionWrapper id="hero">
    {/* Placeholder: Hero Section - Plan 02 */}
    <div className="min-h-screen flex items-center justify-center">
      <h1>Hero Coming Soon</h1>
    </div>
  </SectionWrapper>

  <SectionWrapper id="about">
    {/* Placeholder: About Section - Plan 03 */}
    <div className="min-h-[50vh]">
      <h2>About Coming Soon</h2>
    </div>
  </SectionWrapper>

  <SectionWrapper id="skills">
    {/* Placeholder: Skills Section - Plan 04 */}
    <div className="min-h-[50vh]">
      <h2>Skills Coming Soon</h2>
    </div>
  </SectionWrapper>

  <SectionWrapper id="projects">
    {/* Placeholder: Projects Section - Plan 05 */}
    <div className="min-h-[50vh]">
      <h2>Projects Coming Soon</h2>
    </div>
  </SectionWrapper>

  <SectionWrapper id="contact">
    {/* Placeholder: Contact Section - Plan 06 */}
    <div className="min-h-[50vh]">
      <h2>Contact Coming Soon</h2>
    </div>
  </SectionWrapper>
</main>
```

Pass fetched data to placeholder divs (will be replaced in subsequent plans).
Add smooth scroll behavior to globals.css: `html { scroll-behavior: smooth; }`
  </action>
  <verify>`npm run dev` starts without errors, page displays all 5 sections with navigation dots on desktop</verify>
  <done>Portfolio page renders with section scaffolds and working navigation</done>
</task>

</tasks>

<verification>
1. Run `npm run dev` and visit http://localhost:3000
2. Verify all 5 section placeholders display vertically
3. On desktop (1024px+), verify navigation dots appear on right side
4. Click each navigation dot - page should smooth scroll to that section
5. Scroll through page - active dot should highlight current section
6. Resize to mobile (<1024px) - navigation dots should disappear
7. Check browser devtools Network tab - verify page is server-rendered (not client-side hydration errors)
</verification>

<success_criteria>
- Page displays 5 stacked sections: Hero, About, Skills, Projects, Contact
- Side navigation dots visible on desktop only
- Clicking dots scrolls to corresponding section
- Current section highlighted in navigation
- No TypeScript or runtime errors
- ISR configured (revalidate export present)
</success_criteria>

<output>
After completion, create `.planning/phases/05-public-portfolio/05-01-SUMMARY.md`
</output>
