---
phase: 06-animation-polish
plan: 02
type: execute
wave: 1
depends_on: ["06-01"]
files_modified:
  - src/app/components/portfolio/geometric-shapes.tsx
  - src/app/components/portfolio/hero-section.tsx
autonomous: true

must_haves:
  truths:
    - "Geometric shapes scale in from center on page load"
    - "Hero text reveals word by word after shapes finish"
    - "Animations feel snappy with no overshoot"
    - "No animation occurs when prefers-reduced-motion is set"
  artifacts:
    - path: "src/app/components/portfolio/geometric-shapes.tsx"
      provides: "Animated geometric background shapes"
      contains: "motion.div"
    - path: "src/app/components/portfolio/hero-section.tsx"
      provides: "Animated hero with choreographed text reveal"
      contains: "AnimatedText"
  key_links:
    - from: "src/app/components/portfolio/hero-section.tsx"
      to: "src/components/animation/animated-text.tsx"
      via: "Component import"
      pattern: "import.*AnimatedText"
---

<objective>
Add entrance animations to the hero section with choreographed timing.

Purpose: Create an impressive first impression when the page loads - geometric shapes scale in first, then the name, title, and headline reveal word-by-word. This establishes the professional, intentional motion personality of the portfolio.

Output: Hero section with coordinated entrance animations that start immediately on page load.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-animation-polish/06-CONTEXT.md
@.planning/phases/06-animation-polish/06-RESEARCH.md
@.planning/phases/06-animation-polish/06-01-SUMMARY.md
@src/app/components/portfolio/geometric-shapes.tsx
@src/app/components/portfolio/hero-section.tsx
@src/lib/animation/variants.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Animate geometric shapes on load</name>
  <files>src/app/components/portfolio/geometric-shapes.tsx</files>
  <action>
Convert GeometricShapes to a client component with animated shapes:

1. Add "use client" directive at top

2. Import motion from "motion/react"

3. Create shape variants:
   ```ts
   const shapeVariants = {
     hidden: { scale: 0, opacity: 0 },
     visible: {
       scale: 1,
       opacity: 1,  // Will use original opacity from className
       transition: { duration: 0.4, ease: "easeOut" }
     }
   };
   ```

4. Create container variants for staggered appearance:
   ```ts
   const containerVariants = {
     hidden: {},
     visible: {
       transition: {
         staggerChildren: 0.08,
         delayChildren: 0  // Start immediately per spec
       }
     }
   };
   ```

5. Convert the outer div to motion.div with:
   - initial="hidden"
   - animate="visible"
   - variants={containerVariants}

6. Convert each shape div to motion.div with variants={shapeVariants}

7. For shapes with specific opacities (opacity-15, opacity-10, etc.), the animation should animate TO those opacities. Handle this by:
   - Setting initial opacity in variants.hidden
   - Using a custom visible state that reads the target opacity from a data attribute or inline style

   Alternative simpler approach: Create shape-specific variants where visible.opacity matches the original className opacity values. For example:
   ```ts
   // For each shape, override the opacity in visible state
   <motion.div
     variants={{
       hidden: { scale: 0, opacity: 0 },
       visible: { scale: 1, opacity: 0.15, transition: { duration: 0.4, ease: "easeOut" } }
     }}
     className="absolute -top-32 -right-32 w-96 h-96 rounded-full blur-3xl"
     style={{ backgroundColor: "var(--color-primary)" }}
   />
   ```

   Remove the opacity-XX classes since we're animating to specific opacity values.

Keep pointer-events-none and aria-hidden="true" on the container.
  </action>
  <verify>
    - GeometricShapes is a client component ("use client" present)
    - Shapes scale in on page load with stagger effect
    - `npm run dev` - visually confirm shapes animate in
  </verify>
  <done>Geometric shapes animate in with scale + fade, staggered timing</done>
</task>

<task type="auto">
  <name>Task 2: Add word-by-word text reveal to hero</name>
  <files>src/app/components/portfolio/hero-section.tsx</files>
  <action>
Convert HeroSection to a client component with animated text:

1. Add "use client" directive at top

2. Import AnimatedText from "@/components/animation/animated-text"
   Import motion from "motion/react"

3. Wrap the entire hero content in a motion.div container for choreography:
   ```tsx
   <motion.div
     initial="hidden"
     animate="visible"
     variants={{
       hidden: {},
       visible: {
         transition: {
           delayChildren: 0.5,  // Start text after shapes (shapes take ~0.4s + stagger)
           staggerChildren: 0.15  // Stagger between name, title, headline
         }
       }
     }}
     className="max-w-4xl text-center"
   >
   ```

4. Replace the name h1 with AnimatedText:
   ```tsx
   <AnimatedText
     text={name}
     as="h1"
     className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-4"
     style={{ color: "var(--color-text)" }}
   />
   ```

   Note: AnimatedText needs to support style prop - update it if needed, or apply color via className with Tailwind arbitrary value: `text-[var(--color-text)]`

5. Replace the title h2 with AnimatedText:
   ```tsx
   <AnimatedText
     text={title}
     as="h2"
     className="text-xl sm:text-2xl md:text-3xl font-medium mb-6 text-[var(--color-primary)]"
   />
   ```

6. Replace the headline p with AnimatedText:
   ```tsx
   <AnimatedText
     text={headline}
     as="p"
     className="text-lg md:text-xl max-w-2xl mx-auto opacity-80 text-[var(--color-text)]"
   />
   ```

7. Wrap the location (if present) and CTAs in motion.div with itemVariants for fade-in after text:
   ```tsx
   <motion.div
     variants={{
       hidden: { opacity: 0, y: 20 },
       visible: { opacity: 1, y: 0, transition: { duration: 0.4, ease: "easeOut" } }
     }}
   >
     {/* location and CTAs */}
   </motion.div>
   ```

8. Update AnimatedText component if needed to:
   - Accept style prop and pass to outer element
   - Work as a motion child (inherit variants from parent)
   - The component may need variant prop support for choreography

   If AnimatedText doesn't work well with parent stagger, alternative approach:
   - Give each AnimatedText a specific delay prop:
     - name: delay={0.5}
     - title: delay={0.7}
     - headline: delay={0.9}
     - CTAs: delay={1.2}
  </action>
  <verify>
    - HeroSection is a client component
    - `npm run dev` - text reveals word-by-word after shapes
    - Timing feels choreographed: shapes -> name -> title -> headline -> CTAs
    - Total entrance animation completes in ~1.5-2 seconds
  </verify>
  <done>Hero section has coordinated entrance: shapes first, then text word-by-word</done>
</task>

</tasks>

<verification>
- `npm run dev` and load page fresh
- Geometric shapes scale in from center
- After shapes finish, hero text reveals word-by-word
- CTAs fade in after headline
- Animation completes in under 2 seconds total
- Toggle prefers-reduced-motion in browser devtools - animations should be disabled
</verification>

<success_criteria>
- Shapes animate with scale + stagger on load
- Text reveals word-by-word with proper choreography
- Snappy, professional feel (no bounce/overshoot)
- Works with reduced motion preference
- No layout shift during animations
</success_criteria>

<output>
After completion, create `.planning/phases/06-animation-polish/06-02-SUMMARY.md`
</output>
